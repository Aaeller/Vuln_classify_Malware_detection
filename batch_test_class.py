import os
import predict as pd
import sqrt_deal_pic as sp

# if __name__ == '__main__':
#     test_dir = r'J:\malware\train'
#     files = os.listdir(test_dir)
#
#     for file in files:
#         if file.split('.')[-1] == 'bytes':
#             pic_name = sp.change_to_pic('J:\\malware\\train', file, 'J:\\malware\\pic')
#             print(pic_name)
#             pic_dir = 'J:\malware\pic'
#             wdir = './test_file/deal_pic'
#             predict = pd.read_model(pic_dir, pic_name, wdir)

if __name__ == '__main__':
    test_dir = r'J:\malware\pic1'
    files = os.listdir(test_dir)

    for file in files:
        print(file)
        pic_name = file
        pic_dir = 'J:\malware\pic'
        wdir = './test_file/deal_pic'
        file2 = os.listdir(wdir)
        if pic_name in file2:
            print('ok')
        else:
            predict = pd.read_model(pic_dir, pic_name, wdir)